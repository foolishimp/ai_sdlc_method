# Code Skills Plugin

**Complete code development workflow skills for AI SDLC v3.0**

Version: 1.0.0

---

## Overview

The `code-skills` plugin provides comprehensive skills for implementing code using:
- **TDD Workflow** (Test-Driven Development: RED ‚Üí GREEN ‚Üí REFACTOR)
- **BDD Workflow** (Behavior-Driven Development: Given/When/Then)
- **Code Generation** (Autogenerate from business rules, constraints, formulas)
- **Tech Debt Management** (Homeostatic detection and elimination - Principle #6)

## Capabilities

### 1. TDD Workflow (5 skills)

**Purpose**: Test-first development with requirement traceability

**Skills**:
- `tdd-workflow` - Orchestrator skill coordinating full TDD cycle
- `red-phase` - Write failing tests before code
- `green-phase` - Implement minimal code to pass tests
- `refactor-phase` - Improve code quality and eliminate tech debt ‚úÖ **COMPLETE**
- `commit-with-req-tag` - Git commits tagged with REQ-* keys

**Workflow**:
```
User: "Implement <REQ-ID> (user login)"

Claude (autonomously):
  1. Invokes: red-phase skill
     ‚Üí Creates test_user_login.py
     ‚Üí Tests fail ‚úì (RED)

  2. Invokes: green-phase skill
     ‚Üí Implements login() function
     ‚Üí Tests pass ‚úì (GREEN)

  3. Invokes: refactor-phase skill
     ‚Üí Adds type hints, docstrings
     ‚Üí Deletes unused imports
     ‚Üí Removes dead code
     ‚Üí Simplifies complex logic
     ‚Üí Tests still pass ‚úì (REFACTOR)

  4. Invokes: commit-with-req-tag skill
     ‚Üí Commit: "feat: Add user login (<REQ-ID>)"
```

**Status**: 1/5 complete (refactor-phase ‚úÖ)

---

### 2. BDD Workflow (5 skills)

**Purpose**: Scenario-driven development in business language

**Skills**:
- `bdd-workflow` - Orchestrator skill coordinating BDD cycle
- `write-scenario` - Create Gherkin Given/When/Then scenarios
- `implement-step-definitions` - Implement step definitions
- `implement-feature` - Implement feature code
- `refactor-bdd` - Refactor BDD implementation

**Workflow**:
```
User: "Create scenario for <REQ-ID> (user login)"

Claude (autonomously):
  1. Invokes: write-scenario skill
     ‚Üí Creates login.feature:
       Given I am on the login page
       When I enter valid credentials
       Then I should see "Welcome back"

  2. Invokes: implement-step-definitions skill
     ‚Üí Creates step_definitions/login_steps.py

  3. Invokes: implement-feature skill
     ‚Üí Implements login functionality

  4. Invokes: refactor-bdd skill
     ‚Üí Improves code quality
```

**Status**: 0/5 complete (all pending)

---

### 3. Code Generation (4 skills)

**Purpose**: Autogenerate code from disambiguated requirements

**Skills**:
- `autogenerate-from-business-rules` - Generate code from BR-* rules
- `autogenerate-validators` - Generate validation code from BR-*
- `autogenerate-constraints` - Generate constraint checks from C-*
- `autogenerate-formulas` - Generate formula implementations from F-*

**Example**:
```yaml
Input (from requirements-skills plugin):
  <REQ-ID>: User login
    BR-001: Email validation (regex: ^[a-zA-Z0-9._%+-]+@...)
    BR-002: Password minimum 12 characters
    C-001: Max 3 login attempts, 15min lockout
    F-001: lockout_time = last_attempt + (15 * 60) seconds

Output (autogenerated):
  # Implements: BR-001
  EMAIL_REGEX = r"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"

  def validate_email(email: str) -> bool:
      return re.match(EMAIL_REGEX, email) is not None

  # Implements: BR-002
  def validate_password(password: str) -> bool:
      return len(password) >= 12

  # Implements: C-001, F-001
  MAX_ATTEMPTS = 3
  LOCKOUT_DURATION = 15 * 60  # seconds

  def calculate_lockout_time(last_attempt: datetime) -> datetime:
      return last_attempt + timedelta(seconds=LOCKOUT_DURATION)
```

**Status**: 0/4 complete (all pending)

---

### 4. Tech Debt Management (4 skills) ‚úÖ

**Purpose**: Homeostatic tech debt detection and elimination (Principle #6: "No Legacy Baggage")

**Skills**:
- `detect-unused-code` - Sensor: Find unused imports, dead code, commented code ‚úÖ
- `prune-unused-code` - Actuator: Auto-delete unused code ‚úÖ
- `detect-complexity` - Sensor: Find over-complex logic (cyclomatic complexity > 10) ‚úÖ
- `simplify-complex-code` - Actuator: Extract functions to reduce complexity ‚úÖ

**Homeostasis Workflow**:
```
User: "Refactor auth_service.py"

Claude (autonomously):
  1. Invokes: detect-unused-code (Sensor)
     ‚Üí Deviation detected: 5 unused imports, 2 dead functions

  2. Invokes: prune-unused-code (Actuator)
     ‚Üí Deleted: 5 imports, 2 functions, 15 lines commented code

  3. Invokes: detect-complexity (Sensor)
     ‚Üí Deviation detected: login() complexity 18 (max: 10)

  4. Invokes: simplify-complex-code (Actuator)
     ‚Üí Simplified: login() complexity 18 ‚Üí 6
     ‚Üí Extracted: 4 helper functions

  5. Re-check sensors
     ‚Üí Homeostasis achieved: tech_debt = 0 ‚úì
```

**Status**: 4/4 complete ‚úÖ

---

## Installation

### Option 1: From Marketplace (Recommended)

```bash
# Add AI SDLC marketplace
/plugin marketplace add foolishimp/ai_sdlc_method

# Install code-skills
/plugin install @aisdlc/code-skills
```

### Option 2: Local Installation

```bash
# Clone repository
git clone https://github.com/foolishimp/ai_sdlc_method.git

# Add as local marketplace
cd your-project
/plugin marketplace add ../ai_sdlc_method

# Install plugin
/plugin install code-skills
```

---

## Configuration

Configure in `.claude/settings.json` or `.claude/plugins.yml`:

```yaml
plugins:
  - name: "@aisdlc/code-skills"
    config:
      tdd:
        minimum_coverage: 90          # Your team's standard
        enforce_red_green_refactor: true
        allow_skip_tests: false

      tech_debt:
        auto_detect_on_refactor: true
        auto_prune: false              # Ask before deleting
        max_complexity: 10
        exclude_patterns:
          - "# KEEP:"                  # Don't delete these comments
          - "# TODO:"

      bdd:
        gherkin_style: "cucumber"
        require_scenarios_for_requirements: true

      code_generation:
        auto_generate_from_br: true
        auto_generate_validators: true
        require_tests_for_generated_code: true
```

---

## Usage Examples

### TDD Workflow

```
You: "Implement user registration with email validation"

Claude: I'll use TDD workflow...

[RED Phase]
Creating test_user_registration.py:
  def test_register_with_valid_email():
      result = register("user@example.com", "SecurePass123!")
      assert result.success == True

Running tests... FAILED ‚úì (RED phase)

[GREEN Phase]
Implementing register() function...
Tests passing ‚úì (GREEN phase)

[REFACTOR Phase]
Checking for tech debt...
  - Deleted 2 unused imports
  - Simplified validation logic
  - Added type hints
Tests still passing ‚úì

[COMMIT Phase]
Commit: feat: Add user registration (<REQ-ID>)

‚úÖ Complete! Coverage: 100%
```

### BDD Workflow

```
You: "Create login scenario"

Claude: I'll use BDD workflow...

[SCENARIO Phase]
Created login.feature:
  Feature: User Login
    Scenario: Successful login
      Given I am on the login page
      When I enter "user@example.com" and "password123"
      Then I should see "Welcome back"

[STEP DEFINITIONS Phase]
Created step definitions...

[IMPLEMENT Phase]
Implemented login feature...

‚úÖ All scenarios passing!
```

### Code Generation

```
You: "Generate validators for <REQ-ID>"

Claude: I found these business rules:
  - BR-001: Email regex validation
  - BR-002: Password min 12 chars

Autogenerating validators...

Generated:
  - validate_email() from BR-001
  - validate_password() from BR-002
  - Unit tests for both validators

‚úÖ Generated code with 100% coverage!
```

---

## Dependencies

- **Required**: `@aisdlc/aisdlc-core` (^3.0.0) - Requirement traceability foundation

**Recommended**:
- `@aisdlc/requirements-skills` - For disambiguated requirements (BR-*, C-*, F-*)
- `@aisdlc/principles-key` - For Key Principles enforcement
- `@aisdlc/testing-skills` - For coverage validation

---

## Skill Completion Status

| Category | Status | Skills Complete | Total |
|----------|--------|----------------|-------|
| TDD | üü° In Progress | 1 | 5 |
| BDD | üî¥ Not Started | 0 | 5 |
| Generation | üî¥ Not Started | 0 | 4 |
| Tech Debt | ‚úÖ Complete | 4 | 4 |
| **TOTAL** | **23%** | **5** | **18** |

---

## Roadmap

**v1.0.0** (Current):
- ‚úÖ Tech debt skills (4/4 complete)
- ‚úÖ TDD refactor-phase
- ‚è≥ Complete TDD workflow (4 remaining)
- ‚è≥ BDD workflow (5 skills)
- ‚è≥ Code generation (4 skills)

**v1.1.0** (Future):
- REPL-driven workflow (for data science)
- Property-based testing skills
- Mutation testing skills

---

## Contributing

See [CONTRIBUTING.md](../../CONTRIBUTING.md) in the root repository.

---

## License

MIT License - See [LICENSE](../../LICENSE)

---

**"Excellence or nothing"** üî•
